{
  "batchSize": 5,
  "maxConcurrency": 3,
  "timeouts": {
    "transcriptFetchMs": 15000,
    "asrMs": 300000
  },
  "input": {
    "csvPath": "ukraine_channels_events.csv",
    "rowIdColumn": "id",
    "titleColumn": "title",
    "channelColumn": "channel"
  },
  "mapping": {
    "path": "data/video_to_event_map.csv",
    "createIfMissing": true,
    "minTitleSimilarity": 0.3
  },
  "outputs": {
    "dir": "data",
    "newEventsCsv": "new_events.csv",
    "qaReportJson": "QA_report.json",
    "videoToEventMapCsv": "video_to_event_map.csv",
    "logFile": "pipeline_logs.txt"
  },
  "state": {
    "path": "data/pipeline_state.json",
    "reprocessUnmapped": true,
    "reprocessCaptionless": true
  },
  "dedup": { "ratioThreshold": 0.85, "manualReviewOnTie": true },
  "taxonomy": {
    "regions": ["Європа", "Північна Америка", "Азія", "Близький Схід", "Африка", "Латинська Америка", "Океанія", "Глобально", "Ukraine", "Europe", "Asia", "Middle East", "Africa", "North America", "South America", "Oceania", "Global"],
    "categories": [
      "Війни та конфлікти",
      "Політичні зміни",
      "Економічні зміни",
      "Технологічні зміни",
      "Політичні системи",
      "Союзи та договори",
      "Тероризм",
      "Глобальні кризи",
      "Інфраструктурні проекти",
      "Культурні зміни",
      "Військові аналізи",
      "Соціально-економічні моделі",
      "Економічні моделі"
    ],
    "eventKeywords": {
      "Війни та конфлікти": ["війна", "удар", "атака", "обстріл", "бойові дії", "вторгнення", "конфлікт", "операція"],
      "Політичні зміни": ["вибори", "уряд", "відставка", "реформи", "санкції", "декрет", "президент", "парламент"],
      "Економічні зміни": ["інфляція", "податки", "ВВП", "експорт", "імпорт", "ринок", "енергія", "нафта", "газ"],
      "Технологічні зміни": ["реактор", "SMR", "ядерна", "технології", "інновації", "чіпи", "TSMC"],
      "Інфраструктурні проекти": ["порт", "аеропорт", "міст", "дорога", "залізниця", "NEOM", "інфраструктура"],
      "Тероризм": ["теракт", "вибух", "бомба"],
      "Союзи та договори": ["угода", "союз", "альянс", "договір"],
      "Глобальні кризи": ["криза", "пандемія", "рецесія"]
    }
  },
  "transcripts": {
    "youtube": {
      "enabled": true,
      "languages": ["uk", "en", "ru", "pl"]
    },
    "asr": {
      "provider": "openai",
      "language": "uk",
      "apiKeyEnv": "ASR_API_KEY",
      "model": "whisper-1",
      "retries": 3,
      "placeholderKey": "sk-placeholder-for-testing"
    }
  },
  "qa": { "sampleSize": 20, "lowConfidenceThreshold": 0.7 },
  "externalSources": {
    "gdelt": {
      "enabled": true,
      "endpoint": "https://api.gdeltproject.org/api/v2/doc/doc",
      "queries": ["Ukraine war", "Middle East conflict", "geopolitical", "Syria", "Russia"],
      "refreshIntervalHours": 6,
      "maxRecords": 100,
      "requiresApiKey": false
    },
    "acled": {
      "enabled": true,
      "endpoint": "https://api.acleddata.com/acled/read",
      "apiKeyEnv": "ACLED_API_KEY",
      "countries": ["Ukraine", "Syria", "Russia", "Israel", "Lebanon"],
      "refreshIntervalHours": 24,
      "limit": 100,
      "requiresApiKey": true
    },
    "reliefweb": {
      "enabled": true,
      "endpoint": "https://api.reliefweb.int/v1/reports",
      "refreshIntervalHours": 12,
      "countries": ["Ukraine", "Syria", "Yemen", "Afghanistan"],
      "requiresApiKey": false
    },
    "eventRegistry": {
      "enabled": true,
      "endpoint": "https://eventregistry.org/api/v1/article/getArticles",
      "apiKeyEnv": "EVENTREGISTRY_API_KEY",
      "keywords": ["geopolitics", "war", "conflict", "diplomatic"],
      "refreshIntervalHours": 8,
      "maxRecords": 100,
      "requiresApiKey": true
    },
    "ucdp": {
      "enabled": false,
      "endpoint": "https://ucdpapi.pcr.uu.se/api/gedevents/",
      "version": "23.1",
      "refreshIntervalHours": 168,
      "requiresApiKey": false,
      "note": "Annual updates, enable for bulk historical data"
    }
  },
  "geocoding": {
    "provider": "nominatim",
    "endpoint": "https://nominatim.openstreetmap.org/search",
    "userAgent": "CivilizationSphere/1.0",
    "rateLimit": {
      "requestsPerSecond": 1,
      "maxRetries": 3
    },
    "fallbackCoordinates": {
      "Ukraine": { "lat": 48.3794, "lng": 31.1656 },
      "Europe": { "lat": 50.8503, "lng": 4.3517 },
      "Middle East": { "lat": 29.2985, "lng": 42.5510 },
      "Asia": { "lat": 34.0479, "lng": 100.6197 }
    }
  },
  "dataQuality": {
    "minImportance": 3,
    "maxEventAge": 365,
    "requireCoordinates": false,
    "autoGeocode": true,
    "validateDates": true,
    "deduplicationStrength": "high"
  }
}
